var on=require("./events/on");module.exports={outerHTML:function(oldEl,newEl){oldEl.outerHTML=newEl.outerHTML,this.onSwitch()},innerHTML:function(oldEl,newEl){oldEl.innerHTML=newEl.innerHTML,""===newEl.className&&oldEl.removeAttribute("class"),this.onSwitch()},switchElementsAlt:function(oldEl,newEl){if(oldEl.innerHTML=newEl.innerHTML,newEl.hasAttributes())for(var attrs=newEl.attributes,i=0;i<attrs.length;i++)oldEl.attributes.setNamedItem(attrs[i].cloneNode());this.onSwitch()},replaceNode:function(oldEl,newEl){oldEl.parentNode.replaceChild(newEl,oldEl),this.onSwitch()},sideBySide:function(oldEl,newEl,options,switchOptions){var forEach=Array.prototype.forEach,elsToRemove=[],elsToAdd=[],fragToAppend=document.createDocumentFragment(),animationEventNames="animationend webkitAnimationEnd MSAnimationEnd oanimationend",animatedElsNumber=0,sexyAnimationEnd=function(e){e.target===e.currentTarget&&--animatedElsNumber<=0&&elsToRemove&&(elsToRemove.forEach((function(el){el.parentNode&&el.parentNode.removeChild(el)})),elsToAdd.forEach((function(el){el.className=el.className.replace(el.getAttribute("data-pjax-classes"),""),el.removeAttribute("data-pjax-classes")})),elsToAdd=null,elsToRemove=null,this.onSwitch())}.bind(this);switchOptions=switchOptions||{},forEach.call(oldEl.childNodes,(function(el){elsToRemove.push(el),el.classList&&!el.classList.contains("js-Pjax-remove")&&(el.hasAttribute("data-pjax-classes")&&(el.className=el.className.replace(el.getAttribute("data-pjax-classes"),""),el.removeAttribute("data-pjax-classes")),el.classList.add("js-Pjax-remove"),switchOptions.callbacks&&switchOptions.callbacks.removeElement&&switchOptions.callbacks.removeElement(el),switchOptions.classNames&&(el.className+=" "+switchOptions.classNames.remove+" "+(options.backward?switchOptions.classNames.backward:switchOptions.classNames.forward)),animatedElsNumber++,on(el,animationEventNames,sexyAnimationEnd,!0))})),forEach.call(newEl.childNodes,(function(el){if(el.classList){var addClasses="";switchOptions.classNames&&(addClasses=" js-Pjax-add "+switchOptions.classNames.add+" "+(options.backward?switchOptions.classNames.forward:switchOptions.classNames.backward)),switchOptions.callbacks&&switchOptions.callbacks.addElement&&switchOptions.callbacks.addElement(el),el.className+=addClasses,el.setAttribute("data-pjax-classes",addClasses),elsToAdd.push(el),fragToAppend.appendChild(el),animatedElsNumber++,on(el,animationEventNames,sexyAnimationEnd,!0)}})),oldEl.className=newEl.className,oldEl.appendChild(fragToAppend)}};